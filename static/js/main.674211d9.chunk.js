(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(3),i=a.n(r),l=a(4),c=a(5),u=a(7),o=a(6),d=a(8),m=a(1),v=(a(14),function(e){return s.a.createElement("div",{className:"container"},e.children)}),b=function(){return s.a.createElement("div",{className:"title"},s.a.createElement("h1",null,"Restaurant Tracker"),s.a.createElement("p",null,"Keep track of all the restaurants you want to try"))},h=function(e){return s.a.createElement("div",{className:"card",id:"notVisitedCards"},s.a.createElement("div",{className:"card-body"},s.a.createElement("span",{id:"cardBodyText",key:e.key},e.name),s.a.createElement("button",{key:e.key,className:"btn btn-secondary",id:"visit-button",type:"button",restnum:e.id,"visited-status":e.visited,onClick:e.onClick},"Visited")))},p=function(e){return s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-body"},s.a.createElement("span",{id:"cardVisitedText"},e.name),s.a.createElement("span",{className:"returnChoice"},e.visitAgain?"You liked this place":"You didn't like this place")))},g=function(e){return s.a.createElement("form",{onSubmit:e.onSubmit},s.a.createElement("input",{type:"text",name:"newRestaurantName",className:"restaurantInput",value:e.value,onChange:e.onChange}),s.a.createElement("br",null),s.a.createElement("input",{type:"submit",className:"btn btn-secondary",id:"btn-submit",onClick:e.onClick,value:"Add Restaurant"}))},E=function(e){return s.a.createElement("div",{className:"modalBackground"},s.a.createElement("div",{className:" container modalBody"},s.a.createElement("h3",null,"Would you go back to ",e.visitedRestaurant),s.a.createElement("form",{className:"modalForm",name:"returnToRest",onClick:e.onClick},s.a.createElement("label",{className:"radioInput",value:"1"},s.a.createElement("input",{type:"radio",value:"1",name:"returnChoice"}),"  Yes"),s.a.createElement("label",{className:"radioInput",value:"0"},s.a.createElement("input",{type:"radio",value:"0",name:"returnChoice"}),"  No"))))},f=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(o.a)(t).call(this,e))).visitRestaurant=function(e){var t=parseInt(e.target.getAttribute("restnum"));console.log("justVisited: ".concat(a.state.justVisited)),console.log(e.target),console.log(Number.isInteger(e.target.getAttribute("restnum"))),console.log(Number.isInteger(t)),console.log(e.target.className),fetch("https://infinite-thicket-79992.herokuapp.com/api/restaurants/".concat(t));var n=a.state.restaurants;console.log(n);var s=n.map(function(e){return e.id}).indexOf(t);a.setState({justVisited:s}),console.log("restaurant index is ".concat(s)),n[s].visited=1,console.log(n),a.setState({restaurants:n});var r=!a.state.modalVisible;a.setState({modalVisible:r})},a.restaurantRated=function(e){console.log(e.target.getAttribute("value"));var t=parseInt(e.target.getAttribute("value")),n=a.state.restaurants[a.state.justVisited].id;if(0===t){var s=a.state.restaurants;s[a.state.justVisited].visitAgain=0,a.setState({restaurants:s}),fetch("https://infinite-thicket-79992.herokuapp.com/api/restaurants/rate/".concat(n))}var r=!a.state.modalVisible;a.setState({modalVisible:r})},a.rateRestaurant=function(e){return a.state.modalVisible?s.a.createElement(E,{visible:a.state.modalVisible,onClick:a.restaurantRated,visitedRestaurant:a.state.restaurants[a.state.justVisited].name,restIndex:a.state.justVisited}):s.a.createElement("div",null)},a.handleChange=function(e){a.setState({restaurantName:e.target.value})},a.addRestaurant=function(e){console.log("add button clicked!"),console.log("Restaurant Name: ".concat(a.state.restaurantName)),console.log(e);var t=a.state.restaurantName;e.preventDefault(),fetch("https://infinite-thicket-79992.herokuapp.com/api/restaurants/create",{method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded"},body:t}),a.getRestaurants()},a.state={restaurants:[],restaurantName:"",justVisited:0,modalVisible:!1},a.visitRestaurant=a.visitRestaurant.bind(Object(m.a)(Object(m.a)(a))),a.handleChange=a.handleChange.bind(Object(m.a)(Object(m.a)(a))),a.addRestaurant=a.addRestaurant.bind(Object(m.a)(Object(m.a)(a))),a.restaurantRated=a.restaurantRated.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getRestaurants()}},{key:"getRestaurants",value:function(){var e=this;console.log("starting get restaurants"),fetch("https://infinite-thicket-79992.herokuapp.com/api/restaurants").then(function(e){return e.json()}).then(function(t){return e.setState({restaurants:t.data})})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"all"},s.a.createElement(v,{id:"containerId"},s.a.createElement(b,null),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"newRestaurantForm"},s.a.createElement(g,{value:this.state.value,onSubmit:this.addRestaurant,onChange:this.handleChange}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("h3",null,"Not Visited Restaurants"),this.state.restaurants.map(function(t){return t.visited?s.a.createElement("div",null):s.a.createElement(h,{className:"notVisitedCards",key:t.key,id:t.id,name:t.name,visited:t.visited,visitAgain:t.visitAgain,onClick:e.visitRestaurant})})),s.a.createElement("div",{className:"col"},s.a.createElement("h3",null,"Visited Restaurants"),this.state.restaurants.map(function(e){return e.visited?s.a.createElement(p,{id:e.id,key:e.key,name:e.name,visited:e.visited,visitAgain:e.visitAgain}):s.a.createElement("div",null)}))),s.a.createElement("br",null)),s.a.createElement(this.rateRestaurant,null))}}]),t}(n.Component);i.a.render(s.a.createElement(f,null),document.getElementById("root"))},9:function(e,t,a){e.exports=a(16)}},[[9,2,1]]]);
//# sourceMappingURL=main.674211d9.chunk.js.map